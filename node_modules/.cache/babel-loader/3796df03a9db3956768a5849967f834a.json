{"ast":null,"code":"var _jsxFileName = \"/home/gabriel/project/sd-011-project-recipes-app/src/pages/DrinkDetails.js\";\nimport React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { getDrinkDetail } from '../services/theCockTailAPI';\nimport { getMealRecomendations } from '../services/theMealAPI';\nimport shareIcon from \"../images/shareIcon.svg\";\nimport Recommendations from '../components/Recommendations';\nimport VerifyStart from '../helpers/VerifyStart';\n\nconst DrinkDetails = props => {\n  const [drinkData, setdrinkData] = useState([]);\n  const [recomendedFood, setRecomendedFood] = useState([]);\n  const [copy, setCopy] = useState(false);\n  const {\n    match: {\n      params: {\n        id\n      }\n    }\n  } = props;\n  const maxResult = 6;\n  useEffect(() => {\n    const getDataDrinkDetail = async () => {\n      const data = await getDrinkDetail(id);\n      setdrinkData(...data);\n    };\n\n    getDataDrinkDetail();\n  }, [id]);\n  useEffect(() => {\n    const fetchRecomended = async () => {\n      const recomendedArray = await getMealRecomendations();\n      setRecomendedFood(recomendedArray);\n    };\n\n    fetchRecomended();\n  }, []);\n  const {\n    strDrink,\n    strDrinkThumb,\n    strCategory,\n    strInstructions,\n    strAlcoholic\n  } = drinkData;\n  const maxIngredients = 20;\n\n  function shareLink() {\n    setCopy(true);\n    return navigator.clipboard.writeText(window.location.href);\n  }\n\n  function listIngredients() {\n    const list = [];\n\n    for (let index = 1; index <= maxIngredients; index += 1) {\n      if (drinkData[`strIngredient${index}`]) {\n        list.push(`${drinkData[`strIngredient${index}`]} - ${drinkData[`strMeasure${index}`]}`);\n      }\n    }\n\n    return list;\n  }\n\n  function renderDetails() {\n    return /*#__PURE__*/React.createElement(\"section\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      \"data-testid\": \"recipe-photo\",\n      src: strDrinkThumb,\n      alt: strDrink,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"h2\", {\n      \"data-testid\": \"recipe-title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }\n    }, strDrink), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      \"data-testid\": \"share-btn\",\n      onClick: () => shareLink(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }\n    }, copy ? /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 13\n      }\n    }, \"Link copiado!\") : /*#__PURE__*/React.createElement(\"img\", {\n      src: shareIcon,\n      alt: \"Compartilhar\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 16\n      }\n    })), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      \"data-testid\": \"favorite-btn\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }\n    }, \"Favoritar\"), /*#__PURE__*/React.createElement(\"h4\", {\n      \"data-testid\": \"recipe-category\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }\n    }, `${strCategory} | ${strAlcoholic}`), /*#__PURE__*/React.createElement(\"ol\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }\n    }, listIngredients().map((ingredient, index) => /*#__PURE__*/React.createElement(\"li\", {\n      key: index,\n      \"data-testid\": `${index}-ingredient-name-and-measure`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 15\n      }\n    }, `${ingredient}`))), /*#__PURE__*/React.createElement(\"p\", {\n      \"data-testid\": \"instructions\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }\n    }, strInstructions), /*#__PURE__*/React.createElement(Recommendations, {\n      recommendations: recomendedFood.slice(0, maxResult),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }\n    }));\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 5\n    }\n  }, drinkData && renderDetails(), /*#__PURE__*/React.createElement(VerifyStart, {\n    id: id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 7\n    }\n  }));\n};\n\nDrinkDetails.propTypes = {\n  match: PropTypes.shape(PropTypes.any).isRequired\n};\nexport default DrinkDetails;","map":{"version":3,"sources":["/home/gabriel/project/sd-011-project-recipes-app/src/pages/DrinkDetails.js"],"names":["React","useState","useEffect","PropTypes","getDrinkDetail","getMealRecomendations","Recommendations","VerifyStart","DrinkDetails","props","drinkData","setdrinkData","recomendedFood","setRecomendedFood","copy","setCopy","match","params","id","maxResult","getDataDrinkDetail","data","fetchRecomended","recomendedArray","strDrink","strDrinkThumb","strCategory","strInstructions","strAlcoholic","maxIngredients","shareLink","navigator","clipboard","writeText","window","location","href","listIngredients","list","index","push","renderDetails","shareIcon","map","ingredient","slice","propTypes","shape","any","isRequired"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { getDrinkDetail } from '../services/theCockTailAPI';\nimport { getMealRecomendations } from '../services/theMealAPI';\nimport shareIcon from '../images/shareIcon.svg';\nimport Recommendations from '../components/Recommendations';\nimport VerifyStart from '../helpers/VerifyStart';\n\nconst DrinkDetails = (props) => {\n  const [drinkData, setdrinkData] = useState([]);\n  const [recomendedFood, setRecomendedFood] = useState([]);\n  const [copy, setCopy] = useState(false);\n  const { match: { params: { id } } } = props;\n\n  const maxResult = 6;\n\n  useEffect(() => {\n    const getDataDrinkDetail = async () => {\n      const data = await getDrinkDetail(id);\n      setdrinkData(...data);\n    };\n    getDataDrinkDetail();\n  }, [id]);\n\n  useEffect(() => {\n    const fetchRecomended = async () => {\n      const recomendedArray = await getMealRecomendations();\n      setRecomendedFood(recomendedArray);\n    };\n    fetchRecomended();\n  }, []);\n\n  const {\n    strDrink,\n    strDrinkThumb,\n    strCategory,\n    strInstructions,\n    strAlcoholic,\n  } = drinkData;\n  const maxIngredients = 20;\n\n  function shareLink() {\n    setCopy(true);\n    return navigator.clipboard.writeText(window.location.href);\n  }\n\n  function listIngredients() {\n    const list = [];\n    for (let index = 1; index <= maxIngredients; index += 1) {\n      if (drinkData[`strIngredient${index}`]) {\n        list.push(\n          `${drinkData[`strIngredient${index}`]} - ${drinkData[`strMeasure${index}`]}`,\n        );\n      }\n    }\n    return list;\n  }\n\n  function renderDetails() {\n    return (\n      <section>\n        <img data-testid=\"recipe-photo\" src={ strDrinkThumb } alt={ strDrink } />\n        <h2 data-testid=\"recipe-title\">{ strDrink }</h2>\n        <button\n          type=\"button\"\n          data-testid=\"share-btn\"\n          onClick={ () => shareLink() }\n        >\n          {copy ? (\n            <span>Link copiado!</span>\n          ) : (<img src={ shareIcon } alt=\"Compartilhar\" />)}\n        </button>\n        <button type=\"button\" data-testid=\"favorite-btn\">Favoritar</button>\n        <h4 data-testid=\"recipe-category\">{ `${strCategory} | ${strAlcoholic}` }</h4>\n        <ol>\n\n          {\n            listIngredients().map((ingredient, index) => (\n              <li\n                key={ index }\n                data-testid={ `${index}-ingredient-name-and-measure` }\n              >\n                { `${ingredient}` }\n              </li>\n            ))\n          }\n        </ol>\n        <p data-testid=\"instructions\">{strInstructions}</p>\n        <Recommendations recommendations={ recomendedFood.slice(0, maxResult) } />\n      </section>\n    );\n  }\n\n  return (\n    <div>\n      { drinkData && renderDetails() }\n      <VerifyStart id={ id } />\n    </div>\n  );\n};\n\nDrinkDetails.propTypes = {\n  match: PropTypes.shape(PropTypes.any).isRequired,\n};\n\nexport default DrinkDetails;\n"]},"metadata":{},"sourceType":"module"}